<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>飞讯软件配置 | 蓝今项目跟踪</title>
    <meta name="description" content="问题记录">
    <link rel="icon" href="/leyuan/logo.png">
  <link rel="manifest" href="/leyuan/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/leyuan/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/leyuan/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/leyuan/assets/css/0.styles.3874f85f.css" as="style"><link rel="preload" href="/leyuan/assets/js/app.4c451c14.js" as="script"><link rel="preload" href="/leyuan/assets/js/3.4ae3e493.js" as="script"><link rel="preload" href="/leyuan/assets/js/5.1ca93c25.js" as="script"><link rel="prefetch" href="/leyuan/assets/js/10.8eefb424.js"><link rel="prefetch" href="/leyuan/assets/js/11.68aab707.js"><link rel="prefetch" href="/leyuan/assets/js/12.95bb57a6.js"><link rel="prefetch" href="/leyuan/assets/js/13.b3bf8474.js"><link rel="prefetch" href="/leyuan/assets/js/14.df8982b1.js"><link rel="prefetch" href="/leyuan/assets/js/15.106501c7.js"><link rel="prefetch" href="/leyuan/assets/js/16.0f836c92.js"><link rel="prefetch" href="/leyuan/assets/js/17.bb2516b8.js"><link rel="prefetch" href="/leyuan/assets/js/18.f368b757.js"><link rel="prefetch" href="/leyuan/assets/js/19.b69c04ec.js"><link rel="prefetch" href="/leyuan/assets/js/20.2ac64f3f.js"><link rel="prefetch" href="/leyuan/assets/js/21.e40b0aff.js"><link rel="prefetch" href="/leyuan/assets/js/22.39c1fc57.js"><link rel="prefetch" href="/leyuan/assets/js/23.c4555c15.js"><link rel="prefetch" href="/leyuan/assets/js/24.e5f849e5.js"><link rel="prefetch" href="/leyuan/assets/js/4.fdf1ba8a.js"><link rel="prefetch" href="/leyuan/assets/js/6.5c381795.js"><link rel="prefetch" href="/leyuan/assets/js/7.6005ada6.js"><link rel="prefetch" href="/leyuan/assets/js/8.3ae26f16.js"><link rel="prefetch" href="/leyuan/assets/js/9.60ee7dd4.js"><link rel="prefetch" href="/leyuan/assets/js/vendors~notification.94eb77ef.js">
    <link rel="stylesheet" href="/leyuan/assets/css/0.styles.3874f85f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/leyuan/" class="home-link router-link-active"><!----> <span class="site-name">蓝今项目跟踪</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/leyuan/zh/inside/" class="nav-link router-link-active">内部</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">对外</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/leyuan/zh/customer/leyuan/leyuan.html" class="nav-link">徐州乐园</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/leyuan/zh/inside/" class="nav-link router-link-active">内部</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">对外</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/leyuan/zh/customer/leyuan/leyuan.html" class="nav-link">徐州乐园</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>MES</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/leyuan/zh/inside/env.html" class="sidebar-link">环境搭建</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/env.html#需要文件" class="sidebar-link">需要文件</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>徐州乐园</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/leyuan/zh/inside/leyuan.html" class="sidebar-link">APP &amp; BS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/leyuan.html#表" class="sidebar-link">表</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/leyuan.html#存储过程" class="sidebar-link">存储过程</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/leyuan.html#服务端返回图片的路径" class="sidebar-link">服务端返回图片的路径</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/leyuan.html#由于扩展配置问题而无法提供您的请求页面" class="sidebar-link">由于扩展配置问题而无法提供您的请求页面</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/leyuan.html#关键字" class="sidebar-link">关键字</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/leyuan.html#细表有使用-字段名-字段名-，这种配置方式的，细表主键必须显示" class="sidebar-link">细表有使用 &quot;字段名|字段名&quot;，这种配置方式的，细表主键必须显示</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/leyuan.html#修改title" class="sidebar-link">修改title</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/leyuan.html#登录标题" class="sidebar-link">登录标题</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/leyuan.html#pps表单定义" class="sidebar-link">PPS表单定义</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/leyuan.html#选择乐园用户" class="sidebar-link">选择乐园用户</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/leyuan.html#弹出用户编号" class="sidebar-link">弹出用户编号</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/leyuan.html#业务查询条件" class="sidebar-link">业务查询条件</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/leyuan.html#所有表园区编号默认值" class="sidebar-link">所有表园区编号默认值</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/leyuan.html#图片上传" class="sidebar-link">图片上传</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/leyuan.html#虚拟目录" class="sidebar-link">虚拟目录</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/leyuan.html#维保计划" class="sidebar-link">维保计划</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/leyuan.html#日计算" class="sidebar-link">日计算</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/leyuan.html#签名图片位置" class="sidebar-link">签名图片位置</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/leyuan.html#首页保养" class="sidebar-link">首页保养</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/leyuan.html#图片查看" class="sidebar-link">图片查看</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/leyuan.html#维修图片" class="sidebar-link">维修图片</a></li></ul></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/leyuan.html#如果周保重复查看下维保计划" class="sidebar-link">如果周保重复查看下维保计划</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/leyuan/zh/inside/fesion.html" class="active sidebar-link">飞讯软件配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#数据库" class="sidebar-link">数据库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#函数" class="sidebar-link">函数</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#存储过程" class="sidebar-link">存储过程</a></li></ul></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#app-配置" class="sidebar-link">APP 配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#内置函数、变量" class="sidebar-link">内置函数、变量</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#新单号" class="sidebar-link">新单号</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#" class="sidebar-link"></a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#推送" class="sidebar-link">推送</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#上拉加载-bindscroll" class="sidebar-link">上拉加载:bindscroll</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#图片上传" class="sidebar-link">图片上传</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#请求服务" class="sidebar-link">请求服务</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#下拉刷新" class="sidebar-link">下拉刷新</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#上传图片" class="sidebar-link">上传图片</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#头部" class="sidebar-link">头部</a></li></ul></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#cs-配置" class="sidebar-link">CS 配置</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#bs-配置" class="sidebar-link">BS 配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#菜单初始化" class="sidebar-link">菜单初始化</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#弹出框高度" class="sidebar-link">弹出框高度</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#字段多选" class="sidebar-link">字段多选</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#分割线" class="sidebar-link">分割线</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#首页图标显示不正常" class="sidebar-link">首页图标显示不正常</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#调用app" class="sidebar-link">调用app</a></li></ul></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#重算库存" class="sidebar-link">重算库存</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#库存结账" class="sidebar-link">库存结账</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#期间" class="sidebar-link">期间</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#打印自定协议" class="sidebar-link">打印自定协议</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#注册别名" class="sidebar-link">注册别名</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#bs登录错误" class="sidebar-link">bs登录错误</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#权限设置" class="sidebar-link">权限设置</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#直接往maketable插入表-生成画面高级设置触发字段不起作用" class="sidebar-link">直接往maketable插入表,生成画面高级设置触发字段不起作用</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#系统登录提示myserver加载失败" class="sidebar-link">系统登录提示myserver加载失败</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#如果筛选查询不起作用" class="sidebar-link">如果筛选查询不起作用</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#凭证定义项目" class="sidebar-link">凭证定义项目</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#登录表" class="sidebar-link">登录表</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#如果bs端有图片的报表无法工作" class="sidebar-link">如果bs端有图片的报表无法工作</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#app权限认证" class="sidebar-link">app权限认证</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#我看了一些账套，在高级设置中，写检查条件都喜欢这么写" class="sidebar-link">我看了一些账套，在高级设置中，写检查条件都喜欢这么写</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/fesion.html#结账" class="sidebar-link">结账</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>俱进</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/leyuan/zh/inside/jujin.html" class="sidebar-link">俱进</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>天力弹簧</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/leyuan/zh/inside/tianli.html" class="sidebar-link">app</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/tianli.html#app" class="sidebar-link">app</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/tianli.html#ylpapp-精工云mes" class="sidebar-link">YLPAPP 精工云MES</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>SQL参考</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/leyuan/zh/inside/sql.html" class="sidebar-link">取年月日</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/sql.html#更新行号" class="sidebar-link">更新行号</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/sql.html#md5加密" class="sidebar-link">md5加密</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/sql.html#字符串根据点进行分割" class="sidebar-link">字符串根据点进行分割</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/sql.html#小计" class="sidebar-link">小计</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/sql.html#left-join-right-join-inner-join-区别" class="sidebar-link">left join right join inner join 区别</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/sql.html#当-identity-insert-设置为-off-时，不能为表中的标识列插入显式值" class="sidebar-link">当 IDENTITY_INSERT 设置为 OFF 时，不能为表中的标识列插入显式值</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/sql.html#查询重复记录" class="sidebar-link">查询重复记录</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/sql.html#sql执行时间" class="sidebar-link">sql执行时间</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/sql.html#返回本年第几周" class="sidebar-link">返回本年第几周</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/sql.html#正则" class="sidebar-link">正则</a></li></ul></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/sql.html#删除数据库" class="sidebar-link">删除数据库</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/sql.html#死锁" class="sidebar-link">死锁</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/sql.html#语句耗用时间" class="sidebar-link">语句耗用时间</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/sql.html#返回错误" class="sidebar-link">返回错误</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/sql.html#复制表结构" class="sidebar-link">复制表结构</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Flutter</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/leyuan/zh/inside/flutter.html" class="sidebar-link">Flutter</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/flutter.html#column" class="sidebar-link">Column</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/flutter.html#button" class="sidebar-link">Button</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/flutter.html#router" class="sidebar-link">Router</a></li><li class="sidebar-sub-header"><a href="/leyuan/zh/inside/flutter.html#methodchannel-原生通信" class="sidebar-link">MethodChannel 原生通信</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="飞讯软件配置"><a href="#飞讯软件配置" aria-hidden="true" class="header-anchor">#</a> 飞讯软件配置</h1> <h2 id="数据库"><a href="#数据库" aria-hidden="true" class="header-anchor">#</a> 数据库</h2> <table><thead><tr><th>表</th> <th>表名字</th> <th>说明</th></tr></thead> <tbody><tr><td>xt_SysUserLmt</td> <td>操作用户权限</td> <td></td></tr> <tr><td>pd_sysparam</td> <td>修改文档服务器工作目录</td> <td></td></tr> <tr><td>st_balancenew</td> <td>库存余额表</td> <td></td></tr> <tr><td>st_balanceold</td> <td>库存余额表历史记录</td> <td></td></tr> <tr><td>xt_UserGrpLmt</td> <td>用户组权限</td> <td></td></tr> <tr><td>sa_backplan</td> <td>回款计划</td> <td>3313	应收款回笼率</td></tr> <tr><td>ba_fnsysparams</td> <td>系统参数列表</td> <td>1399</td></tr> <tr><td>st_recordbillno</td> <td>库存单据流水记录表</td> <td></td></tr> <tr><td>xt_SysModules</td> <td>系统模块设计</td> <td></td></tr> <tr><td>OA_sysmodulesOrder</td> <td>BS配置元信息</td> <td></td></tr> <tr><td>xt_SysUsers</td> <td>系统操作用户</td> <td></td></tr> <tr><td>ba_employeeinfo</td> <td>人事档案表</td> <td></td></tr> <tr><td>xt_selffield</td> <td>字段名</td> <td></td></tr> <tr><td>ba_dptinfo</td> <td>部门机构表</td> <td></td></tr> <tr><td>ba_custconnect</td> <td>联系信息</td> <td></td></tr> <tr><td>xt_selftable</td> <td>系统表</td> <td>select a.tablename,a.tablecaption,a.tableid,a.mkno as subsysno,case when a.mkno=0 then '系统功能表'  else b.subsysname end  as subsysname from xt_selftable a left join xt_sysmodulesorder b on a.mkno=b.subsysno</td></tr> <tr><td>xt_sysmodulesorder</td> <td>模块排序表</td> <td></td></tr> <tr><td>oa_pr_getreport</td> <td>获取报表</td> <td></td></tr> <tr><td>oa_getpzdata</td> <td>获取界面显示字段</td> <td>exec oa_getpzdate ’700060’,2,’1’</td></tr> <tr><td>oa_pr_getmaintablebyopeid</td> <td>返回主表单据状态</td> <td></td></tr> <tr><td>oa_pr_userlmt</td> <td>获取用户当前业务权限列表</td> <td></td></tr> <tr><td>zk_reportset</td> <td>报表导出</td> <td></td></tr> <tr><td>ba_ChkInfo</td> <td>送审信息</td> <td></td></tr> <tr><td>xt_config</td> <td>系统配置</td> <td></td></tr> <tr><td>ar_arpyplan</td> <td>收付款计划明细</td> <td>发票维护</td></tr> <tr><td>ba_ChkFlow</td> <td>审核流程组设置</td> <td></td></tr> <tr><td>OA_sysmodulesOrder</td> <td>oa模块设计</td> <td>bvisible 树是否隐藏不能为空</td></tr> <tr><td>st_outadjustlist</td> <td>出库核算记录表</td> <td></td></tr></tbody></table> <h3 id="函数"><a href="#函数" aria-hidden="true" class="header-anchor">#</a> 函数</h3> <table><thead><tr><th>函数</th> <th>功能</th> <th>说明</th></tr></thead> <tbody><tr><td>fu_listToTb</td> <td>带逗号字符串拆入表格</td> <td>select * from fu_listToTb('1,2')</td></tr></tbody></table> <h3 id="存储过程"><a href="#存储过程" aria-hidden="true" class="header-anchor">#</a> 存储过程</h3> <table><thead><tr><th>过程</th> <th>功能</th> <th>说明</th></tr></thead> <tbody><tr><td>allpower</td> <td></td> <td></td></tr> <tr><td>app_comnews</td> <td>根据传入的单据带出该明细，并添加到记录表</td> <td></td></tr></tbody></table> <h2 id="app-配置"><a href="#app-配置" aria-hidden="true" class="header-anchor">#</a> APP 配置</h2> <p>http://appdoc.feixuns.com</p> <h3 id="内置函数、变量"><a href="#内置函数、变量" aria-hidden="true" class="header-anchor">#</a> 内置函数、变量</h3> <table><thead><tr><th>函数</th> <th>功能</th> <th>说明</th></tr></thead> <tbody><tr><td>getlocal()</td> <td>获取全局变量</td> <td></td></tr> <tr><td>[proc@1@3]</td> <td>sql返回参数</td> <td></td></tr> <tr><td>getuuid(funstr)</td> <td>获取手机的唯一设备ID</td> <td><code>funstr</code>获取到设备id以后需要执行的方法，这里funstr里面必须包含[val1],执行完成以后,[val1]会被替换成设备的唯一id号</td></tr> <tr><td>[ins@param1]</td> <td>传递参数</td> <td>doclick('1068-1','3')</td></tr> <tr><td>setlocal('','')</td> <td>全局变量</td> <td></td></tr> <tr><td>loadopeid</td> <td>页面跳转</td> <td>直接再form1页面对应的服务里面使用sql语句取值:select '[billno]' as billno 其中[billno]等于20170202001</td></tr></tbody></table> <h3 id="新单号"><a href="#新单号" aria-hidden="true" class="header-anchor">#</a> 新单号</h3> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token variable">@usetypflg</span>	<span class="token keyword">int</span><span class="token punctuation">,</span>  			<span class="token comment">--使用方式，0 clientdataset使用，1其他存储过程使用, -1:删除单据检查，如果是最大单号删除，回到上一单号</span>
<span class="token variable">@ruleid</span>		<span class="token keyword">int</span><span class="token punctuation">,</span>			<span class="token comment">---单据规则编号</span>
<span class="token variable">@seriseflg</span>	<span class="token keyword">int</span><span class="token punctuation">,</span>			<span class="token comment">---0 允许断号,取一次更新一次</span>
<span class="token variable">@oldcode</span>	<span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>		<span class="token comment">---上一次取的单号</span>
<span class="token variable">@newcode</span>	<span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> output<span class="token punctuation">,</span>	<span class="token comment">---新的业务单据号</span>
<span class="token variable">@errflg</span>		<span class="token keyword">int</span>	output<span class="token punctuation">,</span>		<span class="token comment">---0成功，1失败</span>
<span class="token variable">@tablename</span>      <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">,</span>         <span class="token comment">---单据编号的表名</span>
<span class="token variable">@keyfdname</span>      <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">,</span>         <span class="token comment">---表的关键字段名</span>
<span class="token variable">@codePrefix</span>     <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">''</span> <span class="token punctuation">,</span>         <span class="token comment">---生成的单据编号的前缀</span>
<span class="token variable">@intfield</span> <span class="token keyword">int</span> <span class="token operator">=</span><span class="token number">0</span>  <span class="token comment">--是否整行字段</span>


<span class="token keyword">declare</span> <span class="token variable">@billno</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>        
<span class="token keyword">declare</span> <span class="token variable">@errflg</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>        
<span class="token keyword">exec</span> fn_pr_getNewcode <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">99134</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">,</span><span class="token variable">@billno</span> output<span class="token punctuation">,</span><span class="token variable">@errflg</span> output  
<span class="token keyword">select</span> <span class="token variable">@billno</span> <span class="token keyword">as</span> newbillno <span class="token punctuation">,</span>getdate<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> nowtime<span class="token punctuation">,</span><span class="token number">0</span> <span class="token keyword">as</span> eflg<span class="token punctuation">,</span><span class="token number">0</span> <span class="token keyword">as</span> istates
</code></pre></div><h3 id=""><a href="#" aria-hidden="true" class="header-anchor">#</a></h3> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token comment">-- 分页</span>
<span class="token keyword">where</span> rownum <span class="token operator">between</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>pageindex<span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">[</span>pagesize<span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span> <span class="token operator">and</span> <span class="token punctuation">[</span>pageindex<span class="token punctuation">]</span><span class="token operator">*</span><span class="token punctuation">[</span>pagesize<span class="token punctuation">]</span> 
</code></pre></div><h3 id="推送"><a href="#推送" aria-hidden="true" class="header-anchor">#</a> 推送</h3> <h3 id="上拉加载-bindscroll"><a href="#上拉加载-bindscroll" aria-hidden="true" class="header-anchor">#</a> 上拉加载:bindscroll</h3> <h3 id="图片上传"><a href="#图片上传" aria-hidden="true" class="header-anchor">#</a> 图片上传</h3> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token function">uploadbase64img</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="请求服务"><a href="#请求服务" aria-hidden="true" class="header-anchor">#</a> 请求服务</h3> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token comment">// http://localhost:86/myserver.ashx?jsfilename=index&amp;serverno=m_3000&amp;paramslist={%22init%22:%22init%22}&amp;pagesize=1&amp;pageindex=1&amp;userno=undefined&amp;billno=</span>
   
      <span class="token keyword">this</span><span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/api'</span> <span class="token operator">+</span> <span class="token string">'/myserver.ashx'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
                params<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                  jsfilename<span class="token punctuation">:</span> <span class="token string">'index'</span><span class="token punctuation">,</span>
                  serverno<span class="token punctuation">:</span> <span class="token string">'m_3000'</span><span class="token punctuation">,</span>
                  paramslist<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token string">&quot;init&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;init&quot;</span><span class="token punctuation">}</span> <span class="token punctuation">,</span>
                  pagesize<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                  userno<span class="token punctuation">:</span> <span class="token string">'undefined'</span><span class="token punctuation">,</span>
                  billno<span class="token punctuation">:</span> <span class="token string">'undefined'</span>
                <span class="token punctuation">}</span>
               <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
               <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre></div><h3 id="下拉刷新"><a href="#下拉刷新" aria-hidden="true" class="header-anchor">#</a> 下拉刷新</h3> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// 下拉刷新</span>
<span class="token keyword">var</span> jroll <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JRoll</span><span class="token punctuation">(</span><span class="token string">&quot;#work_wrapper&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jroll<span class="token punctuation">.</span><span class="token function">pulldown</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">refresh</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">complete</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//完成加载数据的操作后回调执行complete方法</span>
        <span class="token function">doclick</span><span class="token punctuation">(</span><span class="token string">'1998'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="上传图片"><a href="#上传图片" aria-hidden="true" class="header-anchor">#</a> 上传图片</h3> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>input id<span class="token operator">=</span><span class="token string">&quot;item_did_'+CAST(a.autoid AS varchar)+'&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;display:none&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>div id <span class="token operator">=</span> <span class="token string">&quot;item_img_'+CAST(a.autoid AS varchar)+'&quot;</span>  style<span class="token operator">=</span><span class="token string">&quot;display: inline-block;&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;af-icons icon-afxiangji1fill upload paizhao&quot;</span>
     onclick<span class="token operator">=</span><span class="token string">&quot;$(''#check_'+CAST(a.autoid AS varchar)+''').prop(''checked'') ? uploadfilesa(''item_img_con_'+CAST(a.autoid AS varchar)+''',''item_did_'+CAST(a.autoid AS varchar)+''',''$(\''#item_img_con_'+CAST(a.autoid AS varchar)+'\'').show();$(\''#item_img_'+CAST(a.autoid AS varchar)+'\'').removeClass();console.log(gets(\''item_did_'+CAST(a.autoid AS varchar)+'\''))'',1000,1000,20,''red'',''Date()'') : mylert(''请先勾选项目'')&quot;</span>
     <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>img id <span class="token operator">=</span> <span class="token string">&quot;item_img_con_'+CAST(a.autoid AS varchar)+'&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;max-width:30%;display:none&quot;</span><span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre></div><h3 id="头部"><a href="#头部" aria-hidden="true" class="header-anchor">#</a> 头部</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>grid-header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 头部内容 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fsui-header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fsui-header_left<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>loadurl('form6')<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                  
             返  回
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fsui-header_center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    工位平板
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fsui-header_right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="cs-配置"><a href="#cs-配置" aria-hidden="true" class="header-anchor">#</a> CS 配置</h2> <p>物料信息进入前弹出查询
<img src="/leyuan/assets/img/cs_1.75381c48.png" alt="config"></p> <p>数量核算科目数量和单价不能为空，且数量*单价必须等于借或贷金额
<img src="/leyuan/assets/img/cw_01.c780ea54.png" alt="config"> <img src="/leyuan/assets/img/cw_02.c479e60f.png" alt="config"></p> <h2 id="bs-配置"><a href="#bs-配置" aria-hidden="true" class="header-anchor">#</a> BS 配置</h2> <h3 id="菜单初始化"><a href="#菜单初始化" aria-hidden="true" class="header-anchor">#</a> 菜单初始化</h3> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> oa_vi_getTree
</code></pre></div><h3 id="弹出框高度"><a href="#弹出框高度" aria-hidden="true" class="header-anchor">#</a> 弹出框高度</h3> <p><img src="/leyuan/assets/img/bs_01.fcafd3c6.png" alt="config"></p> <p>如果图片上传不显示，一定要添加虚拟目录</p> <h3 id="字段多选"><a href="#字段多选" aria-hidden="true" class="header-anchor">#</a> 字段多选</h3> <p><img src="/leyuan/assets/img/bs_02.216e996d.png" alt="conifg"> <img src="/leyuan/assets/img/bs_03.9e536cc8.png" alt="conifg"></p> <h3 id="分割线"><a href="#分割线" aria-hidden="true" class="header-anchor">#</a> 分割线</h3> <p><img src="/leyuan/assets/img/bs_04.52f0f7bd.png" alt="conifg"></p> <p><img src="data:image/png;base64,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" alt="conifg"></p> <h3 id="首页图标显示不正常"><a href="#首页图标显示不正常" aria-hidden="true" class="header-anchor">#</a> 首页图标显示不正常</h3> <p>将<code>mylert</code>去掉
<img src="/leyuan/assets/img/bs_06.d3e1e33f.png" alt="conifg"></p> <p><img src="/leyuan/assets/img/bs_07.ec99a2e4.png" alt="conifg"></p> <h3 id="调用app"><a href="#调用app" aria-hidden="true" class="header-anchor">#</a> 调用app</h3> <p>http://192.168.31.10:92/MySelfPage/MyDesk?opeid=790001&amp;id=chart3&amp;stype=0&amp;appno=LEYUAN_XZ</p> <h2 id="重算库存"><a href="#重算库存" aria-hidden="true" class="header-anchor">#</a> 重算库存</h2> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token comment">-- 重算库存</span>
 <span class="token keyword">exec</span> st_pr_remarkkc <span class="token string">'436-108'</span><span class="token punctuation">,</span><span class="token number">2</span>
</code></pre></div><h2 id="库存结账"><a href="#库存结账" aria-hidden="true" class="header-anchor">#</a> 库存结账</h2> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token comment">-- 结帐会好一点，不结帐设置了展期也会一下记帐的</span>
st_pr_CheckOut
</code></pre></div><h2 id="期间"><a href="#期间" aria-hidden="true" class="header-anchor">#</a> 期间</h2> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token comment">----取得期间开始日期/结束日期/当前会计年/当前会计期间</span>
  <span class="token keyword">select</span> <span class="token keyword">top</span> <span class="token number">1</span> <span class="token variable">@byear</span><span class="token operator">=</span>years<span class="token punctuation">,</span><span class="token variable">@bperiod</span><span class="token operator">=</span>period  <span class="token keyword">from</span> ba_yearmonth <span class="token keyword">where</span> periodtype<span class="token operator">=</span><span class="token number">0</span> <span class="token operator">and</span> isnull<span class="token punctuation">(</span>checkoutflg<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">0</span>
  <span class="token operator">and</span> years<span class="token operator">*</span><span class="token number">100</span><span class="token operator">+</span>period<span class="token operator">&gt;=</span><span class="token punctuation">(</span>dbo<span class="token punctuation">.</span>Mysysparamint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">907</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">100</span><span class="token operator">+</span>dbo<span class="token punctuation">.</span>Mysysparamint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">908</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">select</span> <span class="token keyword">top</span> <span class="token number">1</span> <span class="token variable">@curname</span> <span class="token operator">=</span> curname <span class="token keyword">from</span> ba_currency <span class="token keyword">where</span> localflg <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment">-- 取当前库存期间</span>
<span class="token keyword">select</span> <span class="token keyword">top</span> <span class="token number">1</span> <span class="token variable">@curyear</span><span class="token operator">=</span>years<span class="token punctuation">,</span><span class="token variable">@curperiod</span><span class="token operator">=</span>period
<span class="token keyword">from</span> ba_yearmonth <span class="token keyword">where</span> periodtype<span class="token operator">=</span><span class="token number">0</span> <span class="token operator">and</span> isnull<span class="token punctuation">(</span>kcflg<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token operator">and</span> years<span class="token operator">*</span><span class="token number">100</span><span class="token operator">+</span>period<span class="token operator">&gt;=</span><span class="token punctuation">(</span>dbo<span class="token punctuation">.</span>Mysysparamint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">901</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">100</span><span class="token operator">+</span>dbo<span class="token punctuation">.</span>Mysysparamint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">902</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">-- 库存启用会计年 库存启用会计期间</span>
<span class="token keyword">order</span> <span class="token keyword">by</span> years<span class="token punctuation">,</span>period
</code></pre></div><h2 id="打印自定协议"><a href="#打印自定协议" aria-hidden="true" class="header-anchor">#</a> 打印自定协议</h2> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// D:\AEM\WEB\leyuan_xz\leyuan_bs_new_xz\Scripts\FormEdit.js</span>
myfxbsprint
</code></pre></div><p><img src="/leyuan/assets/img/bs_08.72372ec4.png" alt="conifg"></p> <h2 id="注册别名"><a href="#注册别名" aria-hidden="true" class="header-anchor">#</a> 注册别名</h2> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> loginjpushuserno <span class="token operator">=</span> <span class="token string">&quot;[ins@param1]&quot;</span><span class="token punctuation">;</span>
  loginjpushuserno <span class="token operator">=</span> loginjpushuserno<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> aliasuser <span class="token operator">=</span> <span class="token string">&quot;fxhcl&quot;</span> <span class="token operator">+</span> loginjpushuserno<span class="token punctuation">;</span>
  <span class="token comment">//上面的Fx即在APP推送服务.exe.config配置中设置的PushItem设置的指，一定要一样</span>
  aliasuser <span class="token operator">=</span> aliasuser<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;_&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span>ios <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'注册'</span><span class="token punctuation">)</span>
    window<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span>jPushPlugin<span class="token punctuation">.</span><span class="token function">setAlias</span><span class="token punctuation">(</span>aliasuser<span class="token punctuation">)</span><span class="token punctuation">;</span>


  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

    window<span class="token punctuation">.</span>JPush<span class="token punctuation">.</span><span class="token function">setAlias</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        sequence<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        alias<span class="token punctuation">:</span> aliasuser
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>alias<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">mylert</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>code<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>


<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;请升级到最新版！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="bs登录错误"><a href="#bs登录错误" aria-hidden="true" class="header-anchor">#</a> bs登录错误</h2> <p><img src="/leyuan/assets/img/bs_09.bfc53748.jpg" alt="config"> <img src="/leyuan/assets/img/bs_10.ef93c54b.png" alt="config"></p> <h2 id="权限设置"><a href="#权限设置" aria-hidden="true" class="header-anchor">#</a> 权限设置</h2> <p>https://lexiangla.com/docs/3019fe2cc3e611e9bc2e0a58ac13056b?company_from=4feb0fe295c011e9a0745254002f1020</p> <h2 id="直接往maketable插入表-生成画面高级设置触发字段不起作用"><a href="#直接往maketable插入表-生成画面高级设置触发字段不起作用" aria-hidden="true" class="header-anchor">#</a> 直接往maketable插入表,生成画面高级设置触发字段不起作用</h2> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token comment">-- 一种情况</span>
<span class="token comment">-- 插入的数据有问题，字符类型存的是类型名称，不是类型编号</span>
<span class="token comment">-- 没有主键</span>
</code></pre></div><h2 id="系统登录提示myserver加载失败"><a href="#系统登录提示myserver加载失败" aria-hidden="true" class="header-anchor">#</a> 系统登录提示myserver加载失败</h2> <ul><li>用 erpset 重新注册下系统id</li></ul> <h2 id="如果筛选查询不起作用"><a href="#如果筛选查询不起作用" aria-hidden="true" class="header-anchor">#</a> 如果筛选查询不起作用</h2> <p>--</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 重新注册一下 midas.dll</span>
regsvr32 system/midas.dll
regsvr32 SysWOW64/midas.dll
</code></pre></div><h2 id="凭证定义项目"><a href="#凭证定义项目" aria-hidden="true" class="header-anchor">#</a> 凭证定义项目</h2> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token comment">-- 取科目</span>
<span class="token keyword">select</span> <span class="token keyword">case</span> <span class="token keyword">when</span>  <span class="token keyword">month</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>fidate<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">month</span><span class="token punctuation">(</span>getdate<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">then</span> <span class="token string">'1403.01'</span> <span class="token keyword">else</span> <span class="token string">'2202.02'</span>  <span class="token keyword">end</span> <span class="token punctuation">,</span><span class="token string">''</span> <span class="token keyword">as</span> itemid<span class="token punctuation">,</span> <span class="token string">''</span> <span class="token keyword">as</span> curid<span class="token punctuation">,</span><span class="token number">0</span> <span class="token keyword">as</span> currate<span class="token punctuation">,</span><span class="token string">''</span> <span class="token keyword">as</span> settleid<span class="token punctuation">,</span><span class="token string">''</span> <span class="token keyword">as</span> settleno<span class="token punctuation">,</span><span class="token string">''</span> <span class="token keyword">as</span> dptno<span class="token punctuation">,</span><span class="token string">''</span> <span class="token keyword">as</span> operid<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">as</span> autoid<span class="token punctuation">,</span><span class="token string">''</span> <span class="token keyword">as</span> mcode<span class="token punctuation">,</span> <span class="token string">''</span> <span class="token keyword">as</span> units<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">as</span> qty<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">as</span> price 
<span class="token keyword">from</span> py_invoice a <span class="token keyword">where</span> a<span class="token punctuation">.</span>invno <span class="token operator">=</span> <span class="token string">':w@billno'</span>
</code></pre></div><h2 id="登录表"><a href="#登录表" aria-hidden="true" class="header-anchor">#</a> 登录表</h2> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> isnull<span class="token punctuation">(</span><span class="token function">max</span><span class="token punctuation">(</span>OpeDate<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">as</span> lastdt <span class="token keyword">from</span> xt_logindt

<span class="token keyword">delete</span> xt_logindt <span class="token keyword">where</span> OpeDate <span class="token operator">=</span> <span class="token string">'2019-10-08 16:06:04.000'</span>
</code></pre></div><h2 id="如果bs端有图片的报表无法工作"><a href="#如果bs端有图片的报表无法工作" aria-hidden="true" class="header-anchor">#</a> 如果bs端有图片的报表无法工作</h2> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token string">'http://106.15.172.195:5555\Files\'+dbo.fu_doc_GetSerPathOA('</span>D20191000000005'<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">as</span> my_didtopic  
<span class="token comment">--用这种写法，前面http路径用你那里的，后面这个函数传入文档did</span>
</code></pre></div><h2 id="app权限认证"><a href="#app权限认证" aria-hidden="true" class="header-anchor">#</a> app权限认证</h2> <div class="language-SQL extra-class"><pre class="language-sql"><code> doclick<span class="token punctuation">(</span><span class="token string">'1006-5'</span><span class="token punctuation">)</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span>xjqx <span class="token operator">=</span><span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span>  
</code></pre></div><h2 id="我看了一些账套，在高级设置中，写检查条件都喜欢这么写"><a href="#我看了一些账套，在高级设置中，写检查条件都喜欢这么写" aria-hidden="true" class="header-anchor">#</a> 我看了一些账套，在高级设置中，写检查条件都喜欢这么写</h2> <div class="language-SQL extra-class"><pre class="language-sql"><code>
<span class="token keyword">if</span> <span class="token keyword">Exists</span><span class="token punctuation">(</span> <span class="token keyword">select</span> <span class="token number">1</span> <span class="token keyword">from</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">where</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
   <span class="token keyword">select</span> <span class="token number">1</span>
<span class="token keyword">else</span>
   <span class="token keyword">select</span> <span class="token keyword">top</span> <span class="token number">0</span> <span class="token number">0</span>
其实，可以这么写就可以了：
<span class="token keyword">select</span> <span class="token keyword">top</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token keyword">from</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">where</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
而以下
<span class="token keyword">if</span> （<span class="token punctuation">[</span>cd_name<span class="token punctuation">.</span>fieldName<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span>）
   <span class="token keyword">select</span> <span class="token number">1</span>
<span class="token keyword">else</span>
   <span class="token keyword">select</span> <span class="token keyword">top</span> <span class="token number">0</span> <span class="token number">0</span>
可以这么写：
<span class="token keyword">select</span> <span class="token number">1</span> <span class="token keyword">where</span> （<span class="token punctuation">[</span>cd_name<span class="token punctuation">.</span>fieldName<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span>）
</code></pre></div><h2 id="结账"><a href="#结账" aria-hidden="true" class="header-anchor">#</a> 结账</h2> <div class="language-SQL extra-class"><pre class="language-sql"><code>st_pr_CheckOut
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/leyuan/zh/inside/leyuan.html" class="prev">
          APP &amp; BS
        </a></span> <span class="next"><a href="/leyuan/zh/inside/jujin.html">
          俱进
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/leyuan/assets/js/app.4c451c14.js" defer></script><script src="/leyuan/assets/js/3.4ae3e493.js" defer></script><script src="/leyuan/assets/js/5.1ca93c25.js" defer></script>
  </body>
</html>
